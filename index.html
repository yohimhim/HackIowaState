<!DOCTYPE html>

<html>
<head>
<link rel="stylesheet" href="style.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@1,700&display=swap" rel="stylesheet">
<title>ComU</title>
</head>
<body>
<header>
        <div class="navbar">
            <div class="logo">

                <img src="communiverse.png" alt="logo com" height="100"> 

            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Activities</a></li>
					<li><a href="add.html">Add Activity</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </nav>
        </div>
 </header>
 <h1 class = "name">Activities</h1>

<div class="branch">
	<div class="square one result-container-1">
		<p class="activity_name">Activity Names<p>
		<p class="location_name">Location<p>
		<p class="ip-addr">Date & Time<p>
		<p class="num_of_people">need x people</p>
	</div>
	
	<div class="square two result-container-2">
        <p class="activity_name">Activity Names<p>
            <p class="location_name">Location<p>
            <p class="date_time">Date & Time<p>
            <p class="num_of_people">need x people</p>
	</div>
	
	<div class="square three result-container-3">
        <p class="activity_name">Activity Names<p>
            <p class="location_name">Location<p>
            <p class="date_time">Date & Time<p>
            <p class="num_of_people">need x people</p>
	</div>
    <div class="square four result-container-4">
        <p class="activity_name">Activity Names<p>
            <p class="location_name">Location<p>
            <p class="date_time">Date & Time<p>
            <p class="num_of_people">need x people</p>
	</div>
	
</div>
<script>
    // Function to fetch data from the API and update the HTML
    function fetchDataAndUpdateHTML() {
        const apiUrl = 'http://127.0.0.1:5000/api'; // Replace with your API URL

        // Loop through each result container
        for (let i = 1; i <= 4; i++) {
            const resultContainer = document.querySelector(`.result-container-${i}`);

            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    // Assuming data[i - 1] corresponds to the i-th result container
                    const item = data[i - 1];

                    // Update the HTML elements with JSON data
                    const activityName = resultContainer.querySelector('.activity_name');
                    const locationName = resultContainer.querySelector('.location_name');
                    const dateTime = resultContainer.querySelector('.date_time');
                    const numOfPeople = resultContainer.querySelector('.num_of_people');

                    activityName.textContent = item.text; // Change this to match your data structure
                    locationName.textContent = item.location; // Change this to match your data structure
                    dateTime.textContent = item.date; // Change this to match your data structure
                    numOfPeople.textContent = `need ${item.spots} people`; // Change this to match your data structure
                })
                .catch(error => {
                    console.error('Fetch error:', error);
                });
        }
    }

    // Call the function to fetch and update data when the page loads
    fetchDataAndUpdateHTML();
</script>
