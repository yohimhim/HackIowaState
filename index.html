<!DOCTYPE html>

<html>
<head>
<link rel="stylesheet" href="style.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@1,700&display=swap" rel="stylesheet">
<title>ComU</title>
</head>
<body>
<header>
        <div class="navbar">
            <div class="logo">

                <img src="communiverse.png" alt="logo com" height="100"> 

            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Activities</a></li>
					<li><a href="add.html">Add Activity</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </nav>
        </div>
 </header>
 <h1 class = "name">Activities</h1>

<div class="branch">
	<div class="square one">
		<p class="activity_name">Activity Names<p>
		<p class="location_name">Location<p>
		<p class="date_time">Date & Time<p>
		<p class="num_of_people">need x people</p>
		
	</div>
	
	<div class="square two">
	</div>
	
	<div class="square three">
	</div>
	
	
</div>

<script>
    // Function to fetch data from the API and update the HTML
    function fetchDataAndUpdateHTML() {
        const apiUrl = 'http://127.0.0.1:5000/api'; // Replace with your API URL

        fetch(apiUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                // Update the HTML elements with JSON data
                const container = document.querySelector('.square.one');
                const activityName = container.querySelector('.activity_name');
                const locationName = container.querySelector('.location_name');
                const dateTime = container.querySelector('.date_time');
                const numOfPeople = container.querySelector('.num_of_people');

                // Assuming that the JSON structure matches the HTML structure
                activityName.textContent = data[0].text; // Change this to match your data structure
                locationName.textContent = data[0].location; // Change this to match your data structure
                dateTime.textContent = new Date().toLocaleDateString(); // Change this to match your data structure
                numOfPeople.textContent = `need ${data[0].spots} people`; // Change this to match your data structure
            })
            .catch(error => {
                console.error('Fetch error:', error);
            });
    }

    // Call the function to fetch and update data when the page loads
    fetchDataAndUpdateHTML();
</script>